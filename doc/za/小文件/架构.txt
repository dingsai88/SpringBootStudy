1.目标：高性能、高可用、可扩展(合适、简单、演化)
2.思路：横向、缓存、异步
3.痛点（排序、痛点、4超10）》备选》评估360》详细
读写：写完读主、核心全主
分表：垂直、水平1KW（范围、hash）
Nosql:kV、无结构mogo、IO(hbase)、倒排搜索
缓存：缓存默认、雪崩（单线更新、后台）、热明星

随机、轮训、加权轮、最闲、最快、hash
分布式原则：一致、可用、分区容错:CAP
一致性hash：增加删除节点
一致性问题:2pC、3pc、选主paxos提议者、批准、学习
管理者单点、同步阻塞

异地多活:核心业务、最终一致、无法100、多种手段(
数据同步、消息队列、二次读取、重新生成)
cache aside 旁路缓存 删除自己读
读穿、写穿透：先缓存再数据库
