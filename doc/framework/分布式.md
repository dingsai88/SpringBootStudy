

I.阿里人现身说法：最全面的分布式事务解决方案，全面剖析阿里面试套路。
https://www.bilibili.com/video/BV1Mh411R7nJ?from=search&seid=15576250487038114377


https://www.bilibili.com/video/BV1FJ411A7mV?p=2

讲清楚分布式事务选型：XA、2PC、TCC、Saga、阿里Seata 
1.分布式事务不能100%解决数据不一致。
2.如果数据不一致-用人工或者脚本进行补偿

**I.理论：**

**II.2PC：**


每个事务都预提交到-事务协调器

事务协调器-通知各个业务是否要提交。

1.（ a perCommit、b perCommit）事务协调器:没有超时一直等待
2. 事务协调器返回都提交，还是都回滚  :没有超时一直等待




问题：
1.效率低
2.资源占用大
3.不能完全保证事务


**II.3PC 实现比较少**


1.（ a canCommit、b canCommit）事务协调器   :相比perCommit canCommit不占用资源
2.（ a perCommit、b perCommit）事务协调器   :相比 2PC  带有超时机制，超时了回滚
2. 事务协调器返回都提交，还是都回滚           :相比2PC  如果事务协调器超时了，默认是提交的。





**TCC（try confirm cancel）**


try{
直接落库  insert数据
update sss a=a+10;

不能保证在一个事务里
mysql;
redis;
写文件;

}

confirm{
业务代码、或者空、或者做一些事。

}

cancel{
如果try 有一个失败，那就 delete
update sss a=a-10;
}

cancel 是 try的逆SQL



**LCN (Lock confirm notify)**
MQ消息事务



**阿里巴巴分布式事务框架：Seata**
https://seata.io/zh-cn/
https://github.com/seata/seata/issues/1246


最新精讲【Spring底层源码全集解析】全网唯一P8级架构师教程
https://www.bilibili.com/video/BV1mZ4y1378K

来自阿里、京东、百度、美团、顺丰的并发编程面试真题，让你自由发挥，你能讲多深？
https://www.bilibili.com/video/BV1aV41167s4

清华马士兵：横扫一切关于Redis的问题，吊打所有敢于提问Redis问题的面试官
https://www.bilibili.com/video/BV13z411b7mU

慎入！马士兵教育价值3W架构师视频教程：
透彻讲解Alibaba Java岗需要掌握的
JVM、多线程并发、Spring源码、Redis、Mysql、算法等技术栈
https://www.bilibili.com/video/BV1Da411c7Lx